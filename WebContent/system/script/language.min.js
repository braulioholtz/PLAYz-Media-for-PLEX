function languageInit(e,t){language=t?t:$.querystring().language;var n=document.getElementById("device");language||(language=n.tvLanguage2?n.tvLanguage2.indexOf("-")>-1?n.tvLanguage2.substr(0,2):n.tvLanguage2:navigator.language?navigator.language.indexOf("-")>-1?navigator.language.substr(0,2):navigator.language:"en"),console.log(language),$.getJSON("./system/language/"+language+".json",function(t){settings=t,"en"!=language&&($("[data-language]").each(function(){$(this).html(t.language[$(this).data("language")])}),$("[data-language-title]").each(function(){$(this).attr("title",t.language[$(this).data("languageTitle")])})),e()}).fail(function(t,n,i){console.log(language+" "+i),languageInit(e,"en")})}var settings,language;